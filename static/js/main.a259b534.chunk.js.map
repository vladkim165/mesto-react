{"version":3,"sources":["images/logo.svg","components/Header/Header.js","contexts/CurrentUserContext.js","components/Card/Card.js","components/Main/Main.js","components/Footer/Footer.js","components/ImagePopup/ImagePopup.js","utils/Api.js","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","props","userContext","useContext","isOwner","_id","card","owner","isLiked","likes","some","item","link","name","onClick","onCardClick","type","onCardDelete","onCardLike","length","Main","avatar","onEditAvatar","about","onEditProfile","onAddPlace","cards","map","cardData","Footer","ImagePopup","onClose","api","authorizationToken","url","this","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_getResponseData","userInfo","method","body","JSON","stringify","info","id","avatarLink","PopupWithForm","isOpen","noValidate","onSubmit","title","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","required","autoComplete","minLength","maxLength","value","onChange","target","EditAvatarPopup","urlRef","useRef","onUpdateAvatar","current","placeholder","ref","AddPlacePopup","nameValue","setNameValue","imageValue","setImageValue","App","currentUser","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","closeAllPopups","getUserInfo","catch","err","console","log","getCardItems","cardsData","Provider","i","unlikeCard","newCard","prevState","c","likeCard","deleteCard","state","filter","data","user","setUserInfo","addNewCard","changeAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a259b534.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\r\nimport logoPath from '../../images/logo.svg'\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logoPath} alt=\"Логотип Место\" />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\n\r\nconst CurrentUserContext = React.createContext()\r\n\r\nexport default CurrentUserContext","import React from \"react\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n\r\n  const userContext = React.useContext(CurrentUserContext)\r\n\r\n  const isOwner = userContext._id === props.card.owner._id\r\n  const isLiked = props.card.likes.some(item => item._id === userContext._id)\r\n\r\n  function handleClick () {\r\n    props.onCardClick(props.card)\r\n  }\r\n\r\n  function handleLikeClick () {\r\n    props.onCardLike(props.card)\r\n  }\r\n\r\n  function handleDeleteClick () {\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <li className=\"element\">\r\n        <img className=\"element__image\" src={props.card.link} alt={props.card.name} onClick={handleClick} />\r\n        {isOwner && <button className=\"element__delete-button\" type=\"button\" onClick={handleDeleteClick}></button>}\r\n        <div className=\"element__info\">\r\n          <h2 className=\"element__title\">{props.card.name}</h2>\r\n          <div className=\"element__like-area\">\r\n            <button className={`element__like-button ${isLiked && 'element__like-button_active'}`} type=\"button\" onClick={handleLikeClick}></button>\r\n            <span className=\"element__like-counter\">{props.card.likes.length}</span>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card","import React from \"react\";\r\nimport CurrentUserContext from \"../../contexts/CurrentUserContext.js\";\r\nimport Card from '../Card/Card.js'\r\n\r\nfunction Main(props) {\r\n  const userContext = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <img className=\"profile__avatar-img\" src={userContext.avatar} alt=\"Аватар профиля\" onClick={props.onEditAvatar} />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{userContext.name}</h1>\r\n          <p className=\"profile__subtitle\">{userContext.about}</p>\r\n          <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {props.cards.map((cardData) => {\r\n            return (\r\n              <Card card={cardData} key={cardData._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\r\n            )\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main\r\n\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&COPY; 2021 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","import React from \"react\";\r\n\r\nfunction ImagePopup(props) { \r\n  return (\r\n    <div className={`popup popup_open_background-image ${props.card.name && 'popup_opened'}`}>\r\n      <div className=\"popup__background-image-container\">\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}></button>\r\n        <h2 className=\"popup__image-title\">{props.card.name}</h2>\r\n        <img className=\"popup__background-image\"\r\n          src={props.card.link}\r\n          alt={props.card.link} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n  constructor(authorizationToken, url) {\r\n    this.authorizationToken = authorizationToken;\r\n    this.url = url\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Ошибка: ${res.status}`)\r\n    }\r\n    return res.json()\r\n  }\r\n\r\n  getCardItems() {\r\n    return fetch(`${this.url}/cards`, {\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n      }\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  setUserInfo(userInfo) {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: userInfo.name,\r\n        about: userInfo.info\r\n      })\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.url}/users/me`, {\r\n      headers: {\r\n        authorization: this.authorizationToken\r\n      }\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  addNewCard(item) {\r\n    return fetch(`${this.url}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: item.name,\r\n        link: item.link\r\n      })\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this.url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  likeCard(id) {\r\n    return fetch(`${this.url}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  unlikeCard(id) {\r\n    return fetch(`${this.url}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n\r\n  changeAvatar(avatarLink) {\r\n    return fetch(`${this.url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this.authorizationToken,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatarLink\r\n      })\r\n    })\r\n      .then((res) => {\r\n        return this._getResponseData(res)\r\n      })\r\n  }\r\n}\r\n\r\nconst api = new Api('a5607433-7f53-40eb-a48e-ab0174e03e0a', 'https://mesto.nomoreparties.co/v1/cohort-27')\r\n\r\nexport default api","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  return (\r\n    <div className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n      <div className={`popup__container ${props.isOpen && 'popup__container_opened'}`}>\r\n        <form className=\"form\" name={props.name} noValidate onSubmit={props.onSubmit}>\r\n          <button className=\"popup__close-button\" type=\"button\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\r\n          <h2 className=\"form__header\">{props.title}</h2>\r\n          {props.children}\r\n          <button className=\"form__save-button\" type=\"submit\" aria-label=\"Сохранить\">Сохранить</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm'\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext'\r\n\r\nconst EditProfilePopup = (props) => {\r\n\r\n  const userContext = React.useContext(CurrentUserContext)\r\n\r\n  const [name, setName] = React.useState('')\r\n  const [description, setDescription] = React.useState('')\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onUpdateUser({\r\n      name,\r\n      info: description,\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(userContext.name)\r\n    setDescription(userContext.about)\r\n  }, [userContext])\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit-profile\" title=\"Редактировать профиль\" onSubmit={handleSubmit}\r\n      isOpen={props.isOpen} onClose={props.onClose}\r\n      children={(\r\n        <>\r\n          <section className=\"form__section\">\r\n            <input className=\"form__field form__field_input_name\" type=\"text\" name=\"name\" id=\"name-input\" required\r\n              autoComplete=\"off\" minLength=\"2\" maxLength=\"40\" value={name} onChange={handleChangeName} />\r\n            <span className=\"form__field-error\" id=\"name-input-error\"></span>\r\n          </section>\r\n          <section className=\"form__section\">\r\n            <input className=\"form__field form__field_input_bio\" type=\"text\" name=\"info\" id=\"bio-input\" required\r\n              autoComplete=\"off\" minLength=\"2\" maxLength=\"200\" value={description} onChange={handleChangeDescription} />\r\n            <span className=\"form__field-error\" id=\"bio-input-error\"></span>\r\n          </section>\r\n        </>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm'\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const urlRef = React.useRef()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onUpdateAvatar(urlRef.current.value)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"change-avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n      children={(\r\n        <>\r\n          <section className=\"form__section\">\r\n            <input className=\"form__field form__field_input_link\" type=\"url\" name=\"link\" id=\"link-input\"\r\n              placeholder=\"Ссылка на картинку\" required autoComplete=\"off\" ref={urlRef} />\r\n            <span className=\"form__field-error\" id=\"link-input-error\"></span>\r\n          </section>\r\n        </>\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm'\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  function handleAddPlaceSubmit(e) {\r\n    e.preventDefault()\r\n    props.onAddPlace({name: nameValue, link: imageValue})\r\n  }\r\n\r\n  const [nameValue, setNameValue] = React.useState('')\r\n  const [imageValue, setImageValue] = React.useState('')\r\n\r\n  function handleNameChange(e) {\r\n    setNameValue(e.target.value)\r\n  }\r\n\r\n  function handleImageChange(e) {\r\n    setImageValue(e.target.value)\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm name=\"add-card\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleAddPlaceSubmit}\r\n      children={(\r\n        <>\r\n          <section className=\"form__section\">\r\n            <input className=\"form__field form__field_input_place-name\" type=\"text\" name=\"name\" id=\"place-name-input\"\r\n              placeholder=\"Название\" required autoComplete=\"off\" minLength=\"2\" maxLength=\"30\" value={nameValue} onChange={handleNameChange} />\r\n            <span className=\"form__field-error\" id=\"place-name-input-error\"></span>\r\n          </section>\r\n          <section className=\"form__section\">\r\n            <input className=\"form__field form__field_input_link\" type=\"url\" name=\"link\" id=\"url-input\"\r\n              placeholder=\"Ссылка на картинку\" required autoComplete=\"off\" value={imageValue} onChange={handleImageChange} />\r\n            <span className=\"form__field-error\" id=\"url-input-error\"></span>\r\n          </section>\r\n        </>\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react'\nimport Header from './Header/Header.js'\nimport Main from './Main/Main.js'\nimport Footer from './Footer/Footer.js'\nimport ImagePopup from './ImagePopup/ImagePopup.js'\nimport api from '../utils/Api.js'\nimport CurrentUserContext from '../contexts/CurrentUserContext.js'\nimport EditProfilePopup from './EditProfilePopup/EditProfilePopup.js'\nimport EditAvatarPopup from './EditAvatarPopup/EditAvatarPopup.js'\nimport AddPlacePopup from './AddPlacePopup/AddPlacePopup.js'\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = React.useState({ name: '', about: '', avatar: '' })\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\n  // const [isConfirmationPopupOpen, setisConfirmationPopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState({ name: '', link: '' })\n  const [cards, setCards] = React.useState([])\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleCardClick(data) {\n    setSelectedCard(data)\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false)\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setSelectedCard({ name: '', link: '' })\n  }\n\n  function handleUpdateUser(user) {\n    api.setUserInfo(user)\n      .then((userInfo) => {\n        setCurrentUser(userInfo)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`)\n      })\n  }\n\n  function handleUpdateAvatar(url) {\n    api.changeAvatar(url)\n      .then((res) => {\n        setCurrentUser({...currentUser, avatar: res.avatar})\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`)\n      })\n  }\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((userInfo) => {\n        setCurrentUser(userInfo)\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`)\n      })\n  }, [])\n\n  React.useEffect(() => {\n    api.getCardItems()\n      .then((cardsData) => {\n        setCards(cardsData)\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`)\n      })\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    if (isLiked) {\n      api.unlikeCard(card._id).then((newCard) => {\n        setCards((prevState) => prevState.map((c) => c._id === card._id ? newCard : c));\n      })\n        .catch((err) => {\n          console.log(`Ошибка: ${err}`)\n        });\n    }\n    else {\n      api.likeCard(card._id).then((newCard) => {\n        setCards((prevState) => prevState.map((c) => c._id === card._id ? newCard : c));\n      })\n        .catch((err) => {\n          console.log(`Ошибка: ${err}`)\n        });\n    }\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      setCards((state) => state.filter((c) => card._id !== c._id))\n    })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`)\n      })\n  }\n\n  function handleAddPlace(card) {\n    api.addNewCard(card).then(res => {\n      setCards([res, ...cards])\n      closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(`Ошибка: ${err}`)\n    })\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick}\n          onCardLike={handleCardLike} onCardDelete={handleCardDelete} cards={cards}\n          onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} />\n        <Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        {/* <PopupWithForm name=\"confirm-deletion\" title=\"Вы уверены?\" isOpen={isConfirmationPopupOpen} onClose={closeAllPopups} /> */}\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}